<form class="w-full max-w-md p-6 bg-white">
  <h2 class="mb-6 text-2xl font-bold">Iniciar sesión</h2>

  <div class="mb-4">
    <label class="block mb-2 text-sm font-bold text-gray-700" for="user">
      Nombre de usuario:
    </label>
    <input
      class="w-full px-3 py-2 leading-tight text-gray-700 border rounded appearance-none focus:outline-none focus:shadow-outline"
      id="user"
      type="email"
      placeholder="Nombre de usuario"
      [formControl]="user"
    />

    @if (user.touched && user.errors){
      <div
        class="mt-1 text-xs text-red-500"
      >
        {{ "Usuario requerido." }}
      </div>    }
  </div>

  <div class="mb-4">
    <label class="block mb-2 text-sm font-bold text-gray-700" for="password">
      Contraseña:
    </label>
    <input
      class="w-full px-3 py-2 leading-tight text-gray-700 border rounded appearance-none focus:outline-none focus:shadow-outline"
      id="password"
      type="password"
      placeholder="Contraseña"
      [formControl]="password"
    />

    @if (password.touched && password.errors){
      <div
        class="mt-1 text-xs text-red-500"
      >
        {{ "Contraseña requerida." }}
      </div>

    }
  </div>

  @if(isLoading) {
    <app-loading-forms></app-loading-forms>

  } @else {

    <div class="flex items-center justify-center w-full">
      <button
        class="px-4 py-2 font-bold text-white bg-blue-500 rounded hover:bg-blue-700 focus:outline-none focus:shadow-outline"
        type="button"
        (click)="login()"
      >
        Iniciar sesión
      </button>
    </div>
  }
  @if (loginError) {

    <div class="mt-4 text-sm text-red-500">
      {{ loginError }}
    </div>
  }
</form>
@if (isSuccess && showMessage) {

  <app-success [msg]="'Logueado con éxito'"></app-success>
} @else if (!isSuccess && showMessage){
  <app-error [msg]="'Ha ocurrido un error'"></app-error>
}
